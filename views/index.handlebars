<style>

</style>

<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/momentjs/2.17.0/locale/af.js'></script> -->
<script src="/js/calendar.js"></script>
<script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>



<div class="row" style="height:100%;">
<div class="col s12 m6" style="height:100%; color:white; background-color:#00C0E4; padding-top:5%;">
<!-- Calendar Div -->
<div class="row" style="text-align:center;">

</div>
<div class="row" style="text-align:center;">
<img class="col s10 offset-s1" src="/img/Calendar.png"/>
</div>
<div class="row" style="text-align:center; font-size:46px;">
<p style="font-size:36px;" id="txt"></p>
</div>
<div class="row" style="text-align:center; font-size:46px;">
  <div class="col s12">
<p style="display:inline; font-size:46px;" id="day_num">8th</p><p style="display:inline; font-size:46px;"> - </p><p style="display:inline; font-size:46px;" id="month">December</p>
  </div>
</div>
<div class="row" style="text-align:center; font-size:46px;">
<p style="font-size:30px; padding-top:20px;" id="day_string">Thursday Afternoon</p>
</div>

</span>
<span id="currentTime" class="row" style="text-align:center; padding-top:10px; font-size:26px;">

</span>
<!-- End Calendar Div -->
</div>
<div class="col s12 m6" style="height:100%; padding:0px;">
  <div class="row" style="height:100%; width:100%;">
    <div class="col s12" style="background-color:#CB70D7; color:white; height:50%; width:100%;">
      <!-- Weather Div -->
      <div class="col s12" style="text-align:center; padding-top:5%; font-size:36px;">
        <p  style="font-size:36px;">Weather</p>
      </div>
      <div class="col s12" style="text-align:center; padding-top:5vh;">
          <img class="col s4 offset-s4" src="/img/Cloud.png" style="padding-top:10px;"/>
      </div>
      <div class="col s12" style="text-align:center; font-size:50px; padding-top:10vh;">
        <p style="font-size:36px;">19Â°</p>
      </div>

      <!-- End Weather Div -->
    </div>
    <div class="col s6" style="background-color:#E6567A; color:white; height:50%; width:50%; padding-top:5%;">
      <!-- Last Reminder Div -->
      <div class="col s12" style="text-align:center; font-size:36px;">
        <p style="font-size:36px;">Last Reminder</p>
      </div>
      <div class="col s12" style="text-align:center;">
        <img class="col s10 offset-s1" src="/img/Bath_Outline.png" style="padding-top:10px;"/>
      </div>
      <div class="col s12" style="text-align:center; font-size:26px; padding-top:5vh; height:60px;">
        <span id="last_time">12:00</span>
      </div>
      <!-- End Last Reminder Div -->
    </div>

    <div class="col s6" style="background-color:#E8C14C; color:white; height:50%; width:50%; padding-top:5%;">
      <!-- Next Reminder Div -->
      <div class="col s12" style="text-align:center; font-size:36px;">
        <p style="font-size:36px;">Next Reminder</p>
      </div>
      <div class="col s12" style="text-align:center;">
        <div onclick="openNav()">
        <img class="col s10 offset-s1" src="/img/Fridge.png" style="padding-top:10px;"/>
      </div>
    </div>
      <div class="col s12" style="text-align:center; font-size:26px; padding-top:5vh; height:60px;">
        <span id="next_time">16:00</span>
      </div>
      <!-- End Next Reminder Div -->
    </div>
  </div>
  </div>
</div>

<div id="authorize-div" style="display: none">
  <span>Authorize access to Google Calendar API</span>
  <!--Button for the user to click to initiate auth sequence -->
  <button id="authorize-button" onclick="handleAuthClick(event)">
    Authorize
  </button>
</div>

<!-- The overlay -->
<div id="myNav" class="overlay">

  <!-- Button to close the overlay navigation -->
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>

  <!-- Overlay content -->
  <div class="overlay-content">
    <div class="row">
      <h1 id="overlay_title" style="color: white; font-size:46px;"> Fridge </h1>
    </div>
    <div class="row">
      <img id="overlay_img" class="col s4 offset-s4" src="/img/Fridge2.png"/>
    </div>
    <div class="row">
      <h4 id="overlay_desc" style="color: white;">Grab yourself a sandwich for lunch!</h4>
    </div>
    <div class="row">
      <button class="btn waves-effect waves-light" type="submit" name="action">Done
    <i class="material-icons right"></i>
  </button>
    </div>
  </div>
</div>

<!-- Use any element to open/show the overlay navigation menu -->


<script>

/* Open when someone clicks on the span element */
function openNav() {
  //$('myNav').hide();
    //document.getElementById("myNav").style.width = "100%";
    $('#myNav').fadeIn(5000);
}

/* Close when someone clicks on the "x" symbol inside the overlay */
function closeNav() {
    //document.getElementById("myNav").style.width = "0%";
    $('#myNav').fadeOut(5000);
}

$( document ).ready(function() {
  var d = new Date(); // for now
  var curHr = d.getHours();
  var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
  var weekday = new Array(7);
  weekday[0]=  "Sunday";
  weekday[1] = "Monday";
  weekday[2] = "Tuesday";
  weekday[3] = "Wednesday";
  weekday[4] = "Thursday";
  weekday[5] = "Friday";
  weekday[6] = "Saturday";
  // Set Day and month
  $('#day_num').text(d.getDate());
  $('#month').text(months[d.getMonth()]);
  $('#myNav').hide();
  // Set Day name and time of day
if (curHr < 12) {
  $('#day_string').text(weekday[d.getDay()] + ' Morning');
} else if (curHr < 18) {
  $('#day_string').text(weekday[d.getDay()] + ' Afternoon');
} else {
  $('#day_string').text(weekday[d.getDay()] + ' Evening');
}

  console.log(d.getHours());
  startTime();
});

function startTime() {
    var today = new Date();
    var h = today.getHours();
    var m = today.getMinutes();
    var s = today.getSeconds();
    m = checkTime(m);
    s = checkTime(s);
    document.getElementById('txt').innerHTML =
    h + ":" + m;
    var t = setTimeout(startTime, 500);
}

function checkTime(i) {
    if (i < 10) {
      i = "0" + i;
    };  // add zero in front of numbers < 10
    return i;
}
</script>
